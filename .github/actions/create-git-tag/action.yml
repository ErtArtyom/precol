name: create-git-tag
runs:
  using: composite
  steps:
  - name: Configuring GitHub
    run: |-
      git config --global credential.helper 'cache --timeout=120'
      git config --global user.email "$GH_EMAIL"
      git config --global user.name "Release Bot"
    shell: bash
  - name: Create new git tag
    run: |-
      PKG_TAG="v$(cat package.json | jq -r .version)"
      git tag -a $PKG_TAG -m "Releasing ${PKG_TAG}"
      git push origin $PKG_TAG
    shell: bash